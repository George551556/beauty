/*! beauty 21-07-2015 */
!function(){function a(a){for(var b=0,c=a.length;c>b;b+=4)a[b]=255-a[b],a[b+1]=255-a[b+1],a[b+2]=255-a[b+2];return a}function b(a,b){for(var c=3,d=a.length;d>c;c+=4)a[c]=191.25;return a}function c(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p=[],q=0;for(d=Math.floor(d)||3,e=e||d/3,k=1/(Math.sqrt(2*Math.PI)*e),j=-1/(2*e*e),l=0,f=-d;d>=f;f++,l++)i=k*Math.exp(j*f*f),p[l]=i,q+=i;for(l=0,o=p.length;o>l;l++)p[l]/=q;for(g=0;c>g;g++)for(f=0;b>f;f++){for(h=i=j=k=0,q=0,m=-d;d>=m;m++)n=f+m,n>=0&&b>n&&(l=4*(g*b+n),h+=a[l]*p[m+d],i+=a[l+1]*p[m+d],j+=a[l+2]*p[m+d],q+=p[m+d]);l=4*(g*b+f),a[l]=h/q,a[l+1]=i/q,a[l+2]=j/q}for(f=0;b>f;f++)for(g=0;c>g;g++){for(h=i=j=k=0,q=0,m=-d;d>=m;m++)n=g+m,n>=0&&c>n&&(l=4*(n*b+f),h+=a[l]*p[m+d],i+=a[l+1]*p[m+d],j+=a[l+2]*p[m+d],q+=p[m+d]);l=4*(g*b+f),a[l]=h/q,a[l+1]=i/q,a[l+2]=j/q}return a}var d=function(b,c){for(var d=a(b),e=a(c),f=0,g=b.length;g>f;f+=4)b[f]=255-e[f]*d[f]/255,b[f+1]=255-e[f+1]*d[f+1]/255,b[f+2]=255-e[f+2]*d[f+2]/255;return b},e=function(a){for(var b,c,d,e=[0,0,0],h=[0,0,0],i=0,j=a.length;j>i;i+=4){b=a[i],c=a[i+1],d=a[i+2],f(b,c,d,h);var k=h[1];Math.abs(k)<1&&(h[1]+=.02,new g(e,h),a[i]=e[0],a[i+1]=e[1],a[i+2]=e[2])}return a},f=function(a,b,c,d){var e=0,f=0;c>b&&(f=b,b=c,c=f,e=-1),b>a&&(f=a,a=b,b=f,e=-2/6-e);var g=a-(c>b?b:c);d[0]=Math.abs(e+(b-c)/(6*g+1e-20)),d[1]=g/(a+1e-20),d[2]=a},g=function(a,b){var c=b[0],d=b[1],e=b[2];c>=1&&(c-=1),c*=6;var f=Math.floor(c),g=c-f,h=e*(1-d),i=e*(1-d*g),j=e*(1-d*(1-g));switch(f){case 0:return a[0]=e,a[1]=j,void(a[2]=h);case 1:return a[0]=i,a[1]=e,void(a[2]=h);case 2:return a[0]=h,a[1]=e,void(a[2]=j);case 3:return a[0]=h,a[1]=i,void(a[2]=e);case 4:return a[0]=j,a[1]=h,void(a[2]=e);case 5:return a[0]=e,a[1]=h,void(a[2]=i)}},h=document.createElement("canvas"),i=h.getContext("2d"),j=function(a,f){var g,j=a.data,k=a.width,l=a.height;h.width=k,h.height=l,i.clearRect(0,0,k,l),i.putImageData(a,0,0),g=i.getImageData(0,0,k,l).data,new d(j,g),c(j,k,l,1,f),b(j),e(j)},k={Beauty:j};window.Miao=k}();