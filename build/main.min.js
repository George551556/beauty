/*! beauty 21-07-2015 */
!function(){var a=function(a){return document.getElementById(a)},b=function(a){var b=5,c=i.getImageData(0,0,e.width,e.height);window.Miao.Beauty(c,b),i.putImageData(c,0,0),i.globalCompositeOperation="destination-over",i.drawImage(a,0,0,e.width,e.height)},c=function(a,b){var c=b/a,d=h/g;c>d&&b>h&&(b=h,a=b/c),c>d&&a>g&&(a=g,b=a*c),e.width=a,e.height=b},d=function(a){new c(a.width,a.height),i.clearRect(0,0,e.width,e.height),i.drawImage(a,0,0,e.width,e.height),new b(a)},e=a("canvas"),f=a("drop"),g=480,h=360,i=e.getContext("2d");f.addEventListener("drop",function(a){a.preventDefault(),f.innerHTML="";var b=a.dataTransfer.files[0],c=new FileReader;c.onload=function(a){var b=new Image;b.onload=function(){new d(this)},b.src=a.target.result},c.readAsDataURL(b)},!1),f.addEventListener("dragover",function(a){a.preventDefault()},!1),f.addEventListener("dragenter",function(a){a.preventDefault()},!1)}();